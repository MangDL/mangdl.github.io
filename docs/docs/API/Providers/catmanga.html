<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>mangdl.API.Providers.catmanga API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/atom-one-dark.min.css" crossorigin>
<style>html{scrollbar-face-color:#646464;scrollbar-base-color:#646464;scrollbar-3dlight-color:#646464;scrollbar-highlight-color:#646464;scrollbar-track-color:#000;scrollbar-arrow-color:#000;scrollbar-shadow-color:#646464;scrollbar-dark-shadow-color:#646464}::-webkit-scrollbar{width:14px;height:3px}::-webkit-scrollbar-button{background-color:#000;height:3px}::-webkit-scrollbar-track{background-color:#646464}::-webkit-scrollbar-track-piece{background-color:#000}::-webkit-scrollbar-thumb{height:50px;background-color:#666;border-radius:7px}::-webkit-scrollbar-corner{background-color:#646464}::-webkit-resizer{background-color:#666}:root{--highlight-color:#978141}.flex{display:flex !important}body{line-height:1.5em;color:#fff;background-color:#0f0f0f}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{color:#fff;width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid transparent;background:#262626}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em;font-family:Liberation Mono}h2{font-size:1.75em;margin:.75em 0 .25em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#70BAFF;text-decoration:none;transition:color .2s ease-in-out}a:hover{color:#CDB4DB}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#79aaf8}pre code{background:transparent;font-size:.8em;line-height:1.4em}code{background:rgba(255,255,255,0.1);padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#1e2122;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #646464}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 2em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:0 0}.name{background:#000;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#0b0b0b}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{background:#282c34;max-height:500px;margin:0;overflow-x:scroll;overflow-y:scroll}.source pre code{font-size:12px;overflow-x:initial}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #1b1b1b}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>mangdl.API.Providers.catmanga</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L1-L208" class="git-link">Browse git</a>
</summary>
<pre><code class="python">import ast
import difflib
import json
from typing import Any, Callable, Dict, List

import httpx

from ...utils.globals import log
from ...utils.utils import ddir
from ..Base import Ch, Downloader, Manga, req, soup


def manga(url: str) -&gt; Manga:
    &#34;&#34;&#34;
    Returns a Manga object from the given url.

    Args:
        url (str): url of the manga

    Returns:
        Manga
    &#34;&#34;&#34;

    meta = req.get(f&#39;https://catmanga.org/api/series/{url.split(&#34;/&#34;)[-1]}&#39;).json()

    def chap_dict():
        n = 1
        op = {}
        for c in meta[&#34;chapters&#34;]:
            if ch:=c[&#34;number&#34;]:
                k = ch
            else:
                k = -n
                n += 1
            op[k] = Ch(
                url              = &#34;/&#34;.join([url, str(ch)]),
                ch               = k,
                vol              = c.get(&#34;volume&#34;),
                title            = c[&#34;title&#34;],
                scanlator_groups = c[&#34;groups&#34;],
            )
        return op

    return Manga(
        url             = url,
        title           = meta[&#34;title&#34;],
        author          = meta[&#34;authors&#34;],
        covers          = [f&#39;https://images.catmanga.org{i[&#34;source&#34;]}&#39; for i in meta[&#34;all_covers&#34;]],
        alt_titles      = meta[&#34;alt_titles&#34;],
        status          = meta[&#34;status&#34;],
        demographics    = meta[&#34;genres&#34;][0],
        genres          = meta[&#34;genres&#34;][1:],
        description     = meta[&#34;description&#34;],
        chapters        = chap_dict(),
    )

def chapter(url: str) -&gt; Ch:
    &#34;&#34;&#34;
    Return a Ch object from the given url.

    Args:
        url (str): url of the chapter

    Returns:
        Ch
    &#34;&#34;&#34;
    _meta = ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps&#34;)
    def meta(dir: str):
        return ddir(_meta, dir)
    ch = ast.literal_eval(url.split(&#34;/&#34;)[-1])
    for x in meta(&#34;series/chapters&#34;):
        if x[&#34;number&#34;] == ch:
            chm = x
            break
    return Ch(
        url              = url,
        ch               = ch,
        vol              = chm.get(&#34;volume&#34;),
        title            = chm[&#34;title&#34;],
        scanlator_groups = chm[&#34;groups&#34;],
        user             = &#34;Black Cat Scanlations&#34;,
        imgs             = meta(&#34;pages&#34;),
    )

def squery(query: str, possibilities: List[str], cutoff: int=0.6, *, processor: Callable[[Any], Any]=lambda r: r):
    &#34;&#34;&#34;Custom search query.

    Args:
        query (str): String to search for in the .
        possibilities (List[str]): [description]
        cutoff (int, optional): [description]. Defaults to 0.6.
        processor (Callable[[Any], Any], optional): [description]. Defaults to lambdar:r.

    Yields:
        [type]: [description]
    &#34;&#34;&#34;


    sequence_matcher = difflib.SequenceMatcher()
    sequence_matcher.set_seq2(query)

    for search_value in possibilities:
        sequence_matcher.set_seq1(processor(search_value))
        if (query.lower() in processor(search_value).lower()):
            yield (None, search_value)
            continue
        if (sequence_matcher.real_quick_ratio() &gt;= cutoff and sequence_matcher.quick_ratio(
        ) &gt;= cutoff and sequence_matcher.ratio() &gt;= cutoff):
            yield (sequence_matcher.ratio(), search_value)

def search(query: str):
    &#34;&#34;&#34;Can be used for searching manga when using this project as a module.

    Args:
        s (Search): Search dataclass, search parameters for searching.

    Returns:
        List[Manga]: Search results.
    &#34;&#34;&#34;
    all_series = httpx.get(&#34;https://catmanga.org/api/series/allSeries&#34;).json()
    sr = []

    for series in all_series:
        def meta(m: str):
            return ddir(series, m)
        if list(squery(query, [meta(&#34;title&#34;), *meta(&#34;alt_titles&#34;)], 0.39)):
            sr.append(
                Manga(
                    url = f&#39;https://catmanga.org/series/{meta(&#34;series_id&#34;)}&#39;,
                    title = meta(&#34;title&#34;),
                    author = meta(&#34;authors&#34;),
                    covers=[meta(&#34;cover_art/source&#34;)],
                    alt_titles=meta(&#34;alt_titles&#34;),
                    demographics=meta(&#34;genres&#34;)[0],
                    genres=meta(&#34;genres&#34;)[1:],
                    description=meta(&#34;description&#34;),
                )
            )

    return sr

def dl_search(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when imported.

    Args:
        s (Search): [description]

    Returns:
        Dict[str, str]: [description]
    &#34;&#34;&#34;

    all_series = httpx.get(&#34;https://catmanga.org/api/series/allSeries&#34;).json()

    sr = {}

    for series in all_series:
        if list(squery(title, [series[&#34;title&#34;], *series[&#34;alt_titles&#34;]], 0.39)):
            sr[series[&#34;title&#34;]] = f&#39;https://catmanga.org/series/{series[&#34;series_id&#34;]}&#39;
    return sr

def cli_search(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Format click arguments and options to their respective types,
    then pass that to `dl_search` for it to return the search results.

    Args:
        title (str): Title of the manga to search for.

    Returns:
        Dict[str, str]: Search results
    &#34;&#34;&#34;

    log.info(&#34;Ignoring all keword arguments.&#34;, &#34;cli_search&#34;)
    return dl_search(title, **kwargs)

def dl(url: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when using the project as a module.

    Args:
        url (str): URL of the manga to download.
    &#34;&#34;&#34;

    meta = ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/series&#34;)
    def ch_fn(url: str):
        return ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/pages&#34;)
    chdls = []
    for c in meta[&#34;chapter&#34;]:
        num = c[&#34;number&#34;]
        chdls.append({num: f&#34;{url}/{num}&#34;})
    Downloader(ch_fn, **kwargs).dl_chdls(meta[&#34;title&#34;], chdls)

def cli_dl(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when using cli.

    Args:
        title (str): Title of the manga to download.
    &#34;&#34;&#34;

    sr = cli_search(title)
    def ch_fn(url: str):
        return ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/pages&#34;)
    def chs_fn(choice: str):
        op = []
        url = sr[choice]
        for c in ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/series/chapters&#34;):
            num = c[&#34;number&#34;]
            op.append({num: f&#34;{url}/{num}&#34;})
        return op
    Downloader(ch_fn, **kwargs).cli(sr, chs_fn)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="mangdl.API.Providers.catmanga.chapter"><code class="name flex">
<span>def <span class="ident">chapter</span></span>(<span>url: str) ‑> <a title="mangdl.API.Base.Ch" href="../Base.html#mangdl.API.Base.Ch">Ch</a></span>
</code></dt>
<dd>
<div class="desc"><p>Return a Ch object from the given url.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>url</code></strong> :&ensp;<code>str</code></dt>
<dd>url of the chapter</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Ch</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L57-L83" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def chapter(url: str) -&gt; Ch:
    &#34;&#34;&#34;
    Return a Ch object from the given url.

    Args:
        url (str): url of the chapter

    Returns:
        Ch
    &#34;&#34;&#34;
    _meta = ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps&#34;)
    def meta(dir: str):
        return ddir(_meta, dir)
    ch = ast.literal_eval(url.split(&#34;/&#34;)[-1])
    for x in meta(&#34;series/chapters&#34;):
        if x[&#34;number&#34;] == ch:
            chm = x
            break
    return Ch(
        url              = url,
        ch               = ch,
        vol              = chm.get(&#34;volume&#34;),
        title            = chm[&#34;title&#34;],
        scanlator_groups = chm[&#34;groups&#34;],
        user             = &#34;Black Cat Scanlations&#34;,
        imgs             = meta(&#34;pages&#34;),
    )</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.cli_dl"><code class="name flex">
<span>def <span class="ident">cli_dl</span></span>(<span>title: str, **kwargs: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Used for downloading when using cli.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>title</code></strong> :&ensp;<code>str</code></dt>
<dd>Title of the manga to download.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L191-L208" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def cli_dl(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when using cli.

    Args:
        title (str): Title of the manga to download.
    &#34;&#34;&#34;

    sr = cli_search(title)
    def ch_fn(url: str):
        return ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/pages&#34;)
    def chs_fn(choice: str):
        op = []
        url = sr[choice]
        for c in ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/series/chapters&#34;):
            num = c[&#34;number&#34;]
            op.append({num: f&#34;{url}/{num}&#34;})
        return op
    Downloader(ch_fn, **kwargs).cli(sr, chs_fn)</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.cli_search"><code class="name flex">
<span>def <span class="ident">cli_search</span></span>(<span>title: str, **kwargs: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Format click arguments and options to their respective types,
then pass that to <code><a title="mangdl.API.Providers.catmanga.dl_search" href="#mangdl.API.Providers.catmanga.dl_search">dl_search()</a></code> for it to return the search results.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>title</code></strong> :&ensp;<code>str</code></dt>
<dd>Title of the manga to search for.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Dict[str, str]</code></dt>
<dd>Search results</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L161-L173" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def cli_search(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Format click arguments and options to their respective types,
    then pass that to `dl_search` for it to return the search results.

    Args:
        title (str): Title of the manga to search for.

    Returns:
        Dict[str, str]: Search results
    &#34;&#34;&#34;

    log.info(&#34;Ignoring all keword arguments.&#34;, &#34;cli_search&#34;)
    return dl_search(title, **kwargs)</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.dl"><code class="name flex">
<span>def <span class="ident">dl</span></span>(<span>url: str, **kwargs: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Used for downloading when using the project as a module.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>url</code></strong> :&ensp;<code>str</code></dt>
<dd>URL of the manga to download.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L175-L189" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def dl(url: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when using the project as a module.

    Args:
        url (str): URL of the manga to download.
    &#34;&#34;&#34;

    meta = ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/series&#34;)
    def ch_fn(url: str):
        return ddir(json.loads(soup(url).select_one(&#34;#__NEXT_DATA__&#34;).text), &#34;props/pageProps/pages&#34;)
    chdls = []
    for c in meta[&#34;chapter&#34;]:
        num = c[&#34;number&#34;]
        chdls.append({num: f&#34;{url}/{num}&#34;})
    Downloader(ch_fn, **kwargs).dl_chdls(meta[&#34;title&#34;], chdls)</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.dl_search"><code class="name flex">
<span>def <span class="ident">dl_search</span></span>(<span>title: str, **kwargs: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Used for downloading when imported.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>s</code></strong> :&ensp;<code>Search</code></dt>
<dd>[description]</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Dict[str, str]</code></dt>
<dd>[description]</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L142-L159" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def dl_search(title: str, **kwargs: Dict[str, Any]):
    &#34;&#34;&#34;Used for downloading when imported.

    Args:
        s (Search): [description]

    Returns:
        Dict[str, str]: [description]
    &#34;&#34;&#34;

    all_series = httpx.get(&#34;https://catmanga.org/api/series/allSeries&#34;).json()

    sr = {}

    for series in all_series:
        if list(squery(title, [series[&#34;title&#34;], *series[&#34;alt_titles&#34;]], 0.39)):
            sr[series[&#34;title&#34;]] = f&#39;https://catmanga.org/series/{series[&#34;series_id&#34;]}&#39;
    return sr</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.manga"><code class="name flex">
<span>def <span class="ident">manga</span></span>(<span>url: str) ‑> <a title="mangdl.API.Base.Manga" href="../Base.html#mangdl.API.Base.Manga">Manga</a></span>
</code></dt>
<dd>
<div class="desc"><p>Returns a Manga object from the given url.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>url</code></strong> :&ensp;<code>str</code></dt>
<dd>url of the manga</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Manga</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L13-L55" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def manga(url: str) -&gt; Manga:
    &#34;&#34;&#34;
    Returns a Manga object from the given url.

    Args:
        url (str): url of the manga

    Returns:
        Manga
    &#34;&#34;&#34;

    meta = req.get(f&#39;https://catmanga.org/api/series/{url.split(&#34;/&#34;)[-1]}&#39;).json()

    def chap_dict():
        n = 1
        op = {}
        for c in meta[&#34;chapters&#34;]:
            if ch:=c[&#34;number&#34;]:
                k = ch
            else:
                k = -n
                n += 1
            op[k] = Ch(
                url              = &#34;/&#34;.join([url, str(ch)]),
                ch               = k,
                vol              = c.get(&#34;volume&#34;),
                title            = c[&#34;title&#34;],
                scanlator_groups = c[&#34;groups&#34;],
            )
        return op

    return Manga(
        url             = url,
        title           = meta[&#34;title&#34;],
        author          = meta[&#34;authors&#34;],
        covers          = [f&#39;https://images.catmanga.org{i[&#34;source&#34;]}&#39; for i in meta[&#34;all_covers&#34;]],
        alt_titles      = meta[&#34;alt_titles&#34;],
        status          = meta[&#34;status&#34;],
        demographics    = meta[&#34;genres&#34;][0],
        genres          = meta[&#34;genres&#34;][1:],
        description     = meta[&#34;description&#34;],
        chapters        = chap_dict(),
    )</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.search"><code class="name flex">
<span>def <span class="ident">search</span></span>(<span>query: str)</span>
</code></dt>
<dd>
<div class="desc"><p>Can be used for searching manga when using this project as a module.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>s</code></strong> :&ensp;<code>Search</code></dt>
<dd>Search dataclass, search parameters for searching.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>List[Manga]</code></dt>
<dd>Search results.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L111-L140" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def search(query: str):
    &#34;&#34;&#34;Can be used for searching manga when using this project as a module.

    Args:
        s (Search): Search dataclass, search parameters for searching.

    Returns:
        List[Manga]: Search results.
    &#34;&#34;&#34;
    all_series = httpx.get(&#34;https://catmanga.org/api/series/allSeries&#34;).json()
    sr = []

    for series in all_series:
        def meta(m: str):
            return ddir(series, m)
        if list(squery(query, [meta(&#34;title&#34;), *meta(&#34;alt_titles&#34;)], 0.39)):
            sr.append(
                Manga(
                    url = f&#39;https://catmanga.org/series/{meta(&#34;series_id&#34;)}&#39;,
                    title = meta(&#34;title&#34;),
                    author = meta(&#34;authors&#34;),
                    covers=[meta(&#34;cover_art/source&#34;)],
                    alt_titles=meta(&#34;alt_titles&#34;),
                    demographics=meta(&#34;genres&#34;)[0],
                    genres=meta(&#34;genres&#34;)[1:],
                    description=meta(&#34;description&#34;),
                )
            )

    return sr</code></pre>
</details>
</dd>
<dt id="mangdl.API.Providers.catmanga.squery"><code class="name flex">
<span>def <span class="ident">squery</span></span>(<span>query: str, possibilities: List[str], cutoff: int = 0.6, *, processor: Callable[[Any], Any] = &lt;function &lt;lambda&gt;&gt;)</span>
</code></dt>
<dd>
<div class="desc"><p>Custom search query.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>String to search for in the .</dd>
<dt><strong><code>possibilities</code></strong> :&ensp;<code>List[str]</code></dt>
<dd>[description]</dd>
<dt><strong><code>cutoff</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>[description]. Defaults to 0.6.</dd>
<dt><strong><code>processor</code></strong> :&ensp;<code>Callable[[Any], Any]</code>, optional</dt>
<dd>[description]. Defaults to lambdar:r.</dd>
</dl>
<h2 id="yields">Yields</h2>
<dl>
<dt><code>[type]</code></dt>
<dd>[description]</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/whinee/mangDL/blob/None/project/mangdl/API/Providers/catmanga.py#L85-L109" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def squery(query: str, possibilities: List[str], cutoff: int=0.6, *, processor: Callable[[Any], Any]=lambda r: r):
    &#34;&#34;&#34;Custom search query.

    Args:
        query (str): String to search for in the .
        possibilities (List[str]): [description]
        cutoff (int, optional): [description]. Defaults to 0.6.
        processor (Callable[[Any], Any], optional): [description]. Defaults to lambdar:r.

    Yields:
        [type]: [description]
    &#34;&#34;&#34;


    sequence_matcher = difflib.SequenceMatcher()
    sequence_matcher.set_seq2(query)

    for search_value in possibilities:
        sequence_matcher.set_seq1(processor(search_value))
        if (query.lower() in processor(search_value).lower()):
            yield (None, search_value)
            continue
        if (sequence_matcher.real_quick_ratio() &gt;= cutoff and sequence_matcher.quick_ratio(
        ) &gt;= cutoff and sequence_matcher.ratio() &gt;= cutoff):
            yield (sequence_matcher.ratio(), search_value)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>mangDL</h1>
<form>
<input id="lunr-search" name="q" placeholder="Search..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {
width: auto;
background: #0f0f0f;
}
.modal-dialog .tingle-modal-box__content {padding: 0;}
#search-status{
font-family: Liberation Mono;
}
footer{
font-family: Liberation Mono;
}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../../../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h2>Index</h2>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="mangdl.API.Providers" href="index.html">mangdl.API.Providers</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="mangdl.API.Providers.catmanga.chapter" href="#mangdl.API.Providers.catmanga.chapter">chapter</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.cli_dl" href="#mangdl.API.Providers.catmanga.cli_dl">cli_dl</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.cli_search" href="#mangdl.API.Providers.catmanga.cli_search">cli_search</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.dl" href="#mangdl.API.Providers.catmanga.dl">dl</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.dl_search" href="#mangdl.API.Providers.catmanga.dl_search">dl_search</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.manga" href="#mangdl.API.Providers.catmanga.manga">manga</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.search" href="#mangdl.API.Providers.catmanga.search">search</a></code></li>
<li><code><a title="mangdl.API.Providers.catmanga.squery" href="#mangdl.API.Providers.catmanga.squery">squery</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>